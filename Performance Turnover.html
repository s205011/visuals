<!--
	THIS EXAMPLE WAS DOWNLOADED FROM https://echarts.apache.org/examples/en/editor.html?c=line-simple&code=PTAEHEFMDtIJwIYBdKgDYIM5NAZgAygAmCAnpqFqAGYD2cAtsikccqhgEaRqYCwAKADGtaNjblQAXlABtALoBuQSLE5EAdwAi7CjIXKBdOKAAUaSDgCW00ACYAnItA2AfDPzOrAWm8BKUABvQVBQ0FVxVhlYDVAdFFM_QzDiADpMS3jIUyJUgHNM9kTQbxckkLDNLMxUgAcAV0wAC1MYuKKiPyTQEFAAaUhIWtB6KzyraAQ0GnpQDUGAaxJSCtDlmobmnNSkWgAZWiEpyCyAZSQ4CbzTAHIYb3AAIRuu516iImAAWS_gUn-VgIAL6CQS9ADCcEg7FAiGgRFoDDmkDGTSQFAQ8NA0HoTDQVgAXqhdqAACwARgANPgAOx2UC7JBTQQWHDzVHo2wAQTgiFIqWocERpkC6BgeSQTQAXHhCEDKWYAlJXKAvsgmqk4QiGIlysJROJGVMAOoovJo2zs83ozWQIj1ITZUwIBWcJUqhCgADUoE4CvweqtaL0yI5NSYtVMsWVZliYCNaFNHICACoyeTaXY9WCwFBYIgUOF6gx6hgkFYAG7E-pwHFVkyY1i1BBWVgkJkqA04JA1uvweKe_RKTtqcK0NAWITl0QD2wGFmWBm92j107F2yeBc4ZuttdIjyGQTGMyslwbrygAA8sq8Xq9AWCAhSERwJCsaFIABVl_XbGrJZqtD1PCUZmsGshWPIeopD2tYrvAe7ejIb4ft-cH1oeT5hC-bDvqQAAKLZRKq6qAcBRA5C2qE_vAoBpqY-CpAAHAArN6JEAVqwqpqAjHkq8qygDuRCIV6yFUQRRGYTBNFwAOdSNC0sF9nAe7Qdh46TtO0DyZsLTCWphgggIgi0LU2m2I-MG0OO5a1DKVkpGEFxjAUcAyjcCAAB5WJgNyUoJMGQF5SDnKQFgOYFTmhHQ0BIAAYggDB4R5ABq8AkJM_lRdFsWhYSkAyuSdg5aA8qlcYTBICg7k0MBU5WKIpjNogDCYA-pXPl2LjwsFtgtUlmCyPg8ipO2CAAJK9V5yTRU5OHtqgMhVLoEHTcOWFzRpo7LAAcklS1sCgOz7IcxxnC50DXHc0DeAAqqc_lBMikBLGQHloKIeQ3GV6lbaEOGVcwdpZLYi0nQcRwWBdlxXbc9xPC8bxgB83y_ACgKdWEp67LZVjDDIAAGAAkgR7Qd8qgKTQPVSD7BApenBwMAriE9J_2hANbUCvQACiCBCC0VgoPuKqORzXWjkIxalsglaHcLkAMKkFZTPUkCzRL23iLUUIVo1jS2IrysZJckCYPtDBLVIMg3GhKk3FjHMAPw9UQfUqoQrvKfBcnIAga3u15JSgOS8igDK-BO_9MoTEHoCe6ArsiBOkANTO_uB31pRhxHvHs1rAPdaoLmcPUFkyNLJZlvLIe65A-tAZgBeF7jaB2UhoAk4ExupEwcALPAQJUz3IvpPAVjm5bkBAjKhPetHW3d1XsvllWENnRY5yw9dMAvLatQYI6pjAJSwB5AqP0vMPgA1BF3C-bYXKSE6YXqkyXlxl9pG9Q5A29XPDaA-8oSHwFtkU-59L6gGvqAG-fhGbM1Zprf6QJsyPy2lCZSDIbLt3xsglIxkCEBUfhYAo8JIroOxpAagSAip2HwMQraux7KgBYgw0q40ZSyDtrJJ6NxCKthuPIQS5VH55EuEQChW0LA0I8hmAApNlShoRLjWjkfgRRjC5qcFoNVRE6jNGlRLi2aAewEDcDQDKC46sRFaNCF5LkPlMBSLmkgUgtRCrQKOCgPI9BSBKK2pwiQmA7FOW8r5MxFiXEczyolZKH40oZUxAgAJEs8qnAKnQ0JW0Jg1VVpYuq0B07QFMHHYKHVlH_Uwb2N2fV5GgBpNIG2-do6ELmqIra4TMB7AmJ40UzRaAaBlNQKYGQyrZLCF0z8VghALAcqAAZQyaCjNQB0uamBD7Cx6bAeZizhkrLKrYwSpBHG-WiU5NxHiPL5PVqk6KXTIk8HOVtPZyzeCoF6AATW8F09A5ieAUCaK2d20BSprPuU47ZfSFlNEGfs954zSpTJmXM56ryRkIvBU5DZ-IkBQt2bCpZGKxltNCFi02k9nFyFKuLf6kwrYeXtr7O5_1LmeJuPiWALLAn-ysbJAcEzoqYAYDZSUkdUh2EFU5Tlf83ERSCIvDSn1ao3AAMSkk4ExBwAtuUSw0K2MV9hWlSpSMbMK8raVaxTvQDy6rNXaqEI7SpRDo4IChAgc1fTFVF2VTKNoacmhuptOIhAtQgVCFSFCt14BEBEEnnFBi_ok2hwVLIb1TlRS0GoNQDItDeIKmtSq1VCB8BCFwEQBwP0sVP1CJm7NubxUADYWIFvHDa6BqrIBMWodQRtVaTUSzrTmyw4rWKtt9R26gpJqBMWoJwKt6aoLGujlwJ5CrnXrMJVYuA6sB3RVqLQTAwtGrQA8sw3VMTRAJSSilaB6U4CZRSXupy6TMmh0lemmmNVhn1Qss1N1g0Kk1qctU2sQkAPc3GlNeONsZCOHTVtV2XMag3MgD_Y4_84Y3WAUMI-4Cz4X2gdAgIPofo3ydcBraHkbj4IlqSlBYKpWWrmvS9lAiiAXoue49lMrOMpCCSnLSJ6BXR2FaK6UvEJXPplZ655EtC22sgI2mkkA7B2D43NfVRBDUlQ3WS59Zq5Ver0_NNtRalMqbUxRuj0n_kFOYxzV51jIDPpSAeo92kz1mQ07lK9cTb03HvY-nzL6r0ZKJFkz9uJga1WoL-k9ZhkNAcoyoywNTkNjX9tBvqsH7AOAQ3NJDEGUNqzQ7sSGGHLq7yAX4A-eGT4EagS8diZHrMpZSNR2jHN6NbR62EejwjgSKCAA
	⚠ Please be aware that this chart is not an official demo of Apache ECharts but is made by user-generated code.
-->
<!DOCTYPE html>
<html lang="en" style="height: 100%">
<head>
  <meta charset="utf-8">
</head>
<body style="height: 100%; margin: 0">
  <div id="container" style="height: 100%"></div>

  
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
  
  <!-- Uncomment this line if you want to dataTool extension
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@5/dist/extension/dataTool.min.js"></script>
  -->
  <!-- Uncomment this line if you want to use gl extension
  <script type="text/javascript" src="https://echarts.apache.org/en/js/vendors/echarts-gl/dist/echarts-gl.min.js"></script>
  -->
  <!-- Uncomment this line if you want to echarts-stat extension
  <script type="text/javascript" src="https://echarts.apache.org/en/js/vendors/echarts-stat/dist/ecStat.min.js"></script>
  -->
  <!-- Uncomment this line if you want to echarts-graph-modularity extension
  <script type="text/javascript" src="https://echarts.apache.org/en/js/vendors/echarts-graph-modularity/dist/echarts-graph-modularity.min.js"></script>
  -->
  <!-- Uncomment this line if you want to use map
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@4.9.0/map/js/world.js"></script>
  -->
  <!-- Uncomment these two lines if you want to use bmap extension
  <script type="text/javascript" src="https://api.map.baidu.com/api?v=3.0&ak=YOUR_API_KEY"></script>
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@5/dist/extension/bmap.min.js"></script>
  -->

  <script type="text/javascript">
    var dom = document.getElementById('container');
    var myChart = echarts.init(dom, null, {
      renderer: 'canvas',
      useDirtyRect: false
    });
    var app = {};
    
    var option;

    // Generate last 30 days as formatted date labels
const days = [];
const rawDates = [];
for (let i = 29; i >= 0; i--) {
    const d = new Date();
    d.setDate(d.getDate() - i);
    rawDates.push(new Date(d)); // Keep original for weekday
    days.push(d.toLocaleDateString('en-GB')); // dd/MM/yyyy
}

// Create random weights and normalize to 41,072 total
let weights = Array.from({ length: 30 }, () => Math.random());
const totalWeight = weights.reduce((a, b) => a + b, 0);
weights = weights.map(w => (w / totalWeight) * 41072);

// Generate cumulative turnover and paid data
const turnoverData = [];
const collectionData = [];
let turnoverSum = 0;
let paidSum = 0;

for (let i = 0; i < 30; i++) {
    const dailyTurnover = Math.round(weights[i]);
    turnoverSum += dailyTurnover;

    const dailyPaid = Math.round(dailyTurnover * (0.85 + Math.random() * 0.1));
    paidSum += dailyPaid;

    turnoverData.push(turnoverSum);
    collectionData.push(paidSum);
}

option = {
    tooltip: {
        trigger: 'axis',
        textStyle: {
            fontFamily: 'Verdana',
            fontSize: 12
        },
        formatter: function(params) {
            const index = params[0].dataIndex;
            const date = rawDates[index];
            const dayName = date.toLocaleDateString('en-US', { weekday: 'long' });
            const formattedDate = date.toLocaleDateString('en-GB'); // dd/MM/yyyy

            let tooltip = `${dayName}, ${formattedDate}<br/>`;

            params.forEach(item => {
                const cumulative = item.value;
                const previous = item.seriesName === 'Turnover'
                    ? index > 0 ? turnoverData[index - 1] : 0
                    : index > 0 ? collectionData[index - 1] : 0;

                const contribution = cumulative - previous;

                tooltip += `${item.marker} ${item.seriesName}: ` +
                    `${cumulative.toLocaleString('en').replace(/,/g, ' ')} € ` +
                    `(+${contribution.toLocaleString('en').replace(/,/g, ' ')} €)<br/>`;
            });

            return tooltip;
        }
    },
    legend: {
        left: 120,
        top: 50,
        data: ['Turnover', 'Paid']
    },
    grid: {
        left: '10%',
        right: '10%',
        bottom: '10%',
        containLabel: true
    },
    xAxis: {
        type: 'category',
        data: days,
        axisLabel: {
            fontFamily: 'Verdana',
            fontSize: 12,
            interval: function(index) {
                return index % 7 === 0;
            }
        },
        axisLine: { show: false },
        axisTick: { show: false },
        splitLine: { show: false }
    },
    yAxis: {
        type: 'value',
        axisLabel: {
            show: false // Y-axis labels hidden
        },
        axisLine: { show: false },
        axisTick: { show: false },
        splitLine: { show: false }
    },
    series: [
        {
            name: 'Turnover',
            type: 'line',
            data: turnoverData,
            smooth: 0.2,
            lineStyle: {
                color: '#4b89ac',
                width: 2
            },
            itemStyle: {
                color: '#4b89ac'
            },
            areaStyle: {
                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                    { offset: 0, color: '#a0c3d9' },
                    { offset: 0.65, color: '#e8eff6' },
                    { offset: 0.85, color: '#f4f8fb' }
                ])
            },
            label: {
                show: true,
                position: 'top',
                fontFamily: 'Verdana',
                fontSize: 12,
                formatter: function (params) {
                    return params.dataIndex === 29
                        ? params.value.toLocaleString('en').replace(/,/g, ' ') + ' €'
                        : '';
                }
            }
        },
        {
            name: 'Paid',
            type: 'line',
            data: collectionData,
            smooth: 0.2,
            lineStyle: {
                color: '#e67e22',
                width: 2
            },
            itemStyle: {
                color: '#e67e22'
            },
            label: {
                show: true,
                position: 'top',
                fontFamily: 'Verdana',
                fontSize: 12,
                formatter: function (params) {
                    return params.dataIndex === 29
                        ? params.value.toLocaleString('en').replace(/,/g, ' ') + ' €'
                        : '';
                }
            }
        }
    ]
};


    if (option && typeof option === 'object') {
      myChart.setOption(option);
    }

    window.addEventListener('resize', myChart.resize);
  </script>
</body>
</html>